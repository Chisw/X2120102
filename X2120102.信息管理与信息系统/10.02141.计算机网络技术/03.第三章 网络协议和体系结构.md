# 第三章 网络协议和体系结构

## 第一节 网络协议和体系结构概述

### 一、网络协议的概念

从硬件来看，只要有终端、信道和交换设备，就能使两个用户建立起连接，但要实现信息交换是不够的，需要制定规定

双方必须遵守的规则和约定称为协议或规程

包括：

1. 语法：如何讲，确定数据格式、数据码型、信号电平
2. 语义：讲什么，确定协议元素的类型，发出的控制信息、执行的返回动作、返回的应答
3. 时序关系：规定执行的顺序，确定通信状态的变化、正确的应答

### 二、分层的思想

从底层信号到完整数据分组中，技术复杂、涉及广泛，很难在一个协议中全部完成

将复杂功能由若干协议分别完成，再将其按一定方式组织起来，最典型的采用**分层方式**

核心思路：上层的功能建立在下层功能基础上，每层遵守一定的通信规则

优势：

1. 各层次之间可相互独立
- 高层无须了解底层的工作机制、使用设备和技术细节，需要低层通过接口提供哪些服务
- 每层的功能、任务清晰明确，且相对独立

2. 较强灵活性，便于实现和维护
- 整体规划、设计需要考虑十分周到
- 层次划分后，被分解成若干更容易处理的部分
- 单个领域更易发展，变化后也不会影响其他层

3. 有利于标准化
- 界定后可围绕确定的功能和服务制定相应的标准

### 三、网络体系结构

层次和协议的集合构成了网络的体系结构

其研究的是网络系统各部分的组成及其相互关系

完整的体系结构应该包括整个计算机网络的逻辑组成和功能分配，定义和描述了用于计算机及其通信设施之间互联的标准和规范的集合，以便在统一的原则指导下进行计算机网络的设计、构造、使用和维护

一种体系结构应当具有足够的信息，以允许软件设计人员给每个层次编写实现该层协议的有关程序，即通信软件，

- 1960s IBM SNA Systems Network Architecture
- DEC DNA Digital Network Architecture

目前典型的层次化体系结构有 OSI、TCP/IP

## 第二节 OSI 参考模型

1984 ISO 吸取 SNA 及其他网络体系结构，提出了开放系统互连 OSI (Open System Interconnection) 参考模型 (OSI/RM)，简称 OSI 模型

所谓开放、指按照这个标准设计和建成的数据通信网中的设备都可以互相通信

### 一、OSI 参考模型各层的功能

采用分层结构化技术分为 7 层，上 4 层：结点到结点层，下 3 层：端到端层

中间系统（比如路由器）通常只实现下 3 层，物理层端到端通信：实通信

```
应用层
  |
表示层
  |
会话层
  |
传输(运输)层
  |
网络层
  |
数据链路层
  |
物理层
```

1. 物理层
- 在传输介质上实现无结构比特流传输
- 不关心实际内容，只关心如何将 0、1 以合适信号传送
- 需要实现信号编码功能
- 规定数据终端设备(DTE)、通信设备(DCE)间的接口，包括机四个方面：
  - 机械：物理特性，接口的形状、尺寸、插脚、排列方式
  - 电气：电路特性，电平大小、接收器发送器电路特性、信号识别、最大传输速率
  - 功能：各信号线用途，功能分类
  - 规程：指明传输全程及事件发生的顺序、传输方式
- 典型的有：RS-232、RS-449

2. 数据链路层



