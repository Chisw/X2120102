# 第二章 随机变量及其概率分布

## 第一节 离散型随机变量

### 1.随机变量的概念

随机变量：X 由实验结果的不同而取不同的值

### 2.离散型随机变量及其分布规律

离散型随机变量：随机变量 X 只能取有限多个或可列无限多个值

![P\{X=x_k\}=p_k(k=1,2,...)](../img/X2120102.04183.02.01.svg)

分布规律：分布律、分布列、概率分布

| X | 男 | 女
| --| -- | --
| P | 1/2 | 1/2

分布律性质：必须发生，且和为 1

```latex
1. P_k >= 0, k=1,2,...
2. ΣP_k = 1
```

> 例题 1：1~5 号球同时取出 3 个，记 X 为最大编号，求 X 的分布律

X 的取值为 3,4,5

根据古典概型的概率计算得

```latex
P{X=3} = C_3^3 / C_5^3 = 1/10
P{X=4} = C_3^2 / C_5^3 = 3/10
P{X=5} = C_4^2 / C_5^3 = 6/10
```

则 X 的分布律为

| X | 3 | 4 | 5 |
| :--: | :--: | :--: | :--: |
| P | 0.1 | 0.3 | 0.6 |

> 例题 2：10 个零件，其中 3 个不合格，现取任一使用，取到不合格则丢弃继续取，求取到合格零件之前取到不合格零件个数 X 的分布律

X 的取值为 0, 1, 2, 3

```
P{X=0} = 7/10
P{X=1} = 3/10 * 7/9
P{X=2} = 3/10 * 2/9 * 7/8
P{X=3} = 3/10 * 2/9 * * 1/8 * 7/7
```

则 X 的分布律为

| X | 0 | 1 | 2 | 3 |
| :--: | :--: | :--: | :--: | :--: |
| P | 7/10 | 7/30 | 7/120 | 1/120 |

> 例题 3：随机变量 X 的分布律为

| X | -1 | 0 | 1 | 2 |
| :--: | :--: | :--: | :--: | :--: |
| P | 0.2 | 0.1 | 0.3 | 0.4 |

1. 求 `Y=X^3` 的分布律

```
当 x = -1 时，x^3 = -1
当 x = 0 时，x^3 = 0
当 x = 1 时，x^3 = 1
当 x = 2 时，x^3 = 8
```

| X | -1 | 0 | 1 | 8 |
| :--: | :--: | :--: | :--: | :--: |
| P | 0.2 | 0.1 | 0.3 | 0.4 |

2. 求 `Y=X^2` 的分布律

```
当 x = -1 时，x^2 = 1
当 x = 0 时，x^2 = 0
当 x = 1 时，x^2 = 1
当 x = 2 时，x^2 = 4
```

| X | 0 | 1 | 4 |
| :--: | :--: | :--: | :--: |
| P | 0.1 | 0.5 | 0.4 |

### 3.0-1 分布与二项分布

#### 0-1 分布

1. 随机变量 X 只有 0, 1 两个取值
2. `P{X=1}=p` `P{X=0}=q` `0<p<1, q=1-p`

> 例：射击命中率 0.7，命中 0，不命中 1

| X | 0 | 1 |
| :--: |  :--: |  :--: |
| P | 0.7 | 0.3 |

#### 二项分布

1. 随机变量 X 取值为 0,1,2,...,n
2. X 的分布律为

![p_k=P\{X=k\}=C_n^kp^kq^{n-k},k=0,1,2,...,n](../img/X2120102.04183.02.02.svg)

其中 `0 < p < 1, q = 1 - p`

称 X 服从参数为 n，p 的二项分布，简记为 `X~B(n,p)`

> X 服从于 打靶（10 次，概率 0.8）

> 例题 1：某药有效率 0.95，现 10 人服用，求至少 8 人治愈的概率

```latex
X~B(10,0.95)

P{X=8}=C_10^8 * 0.95^8 * 0.05^2
P{X=9}=C_10^9 * 0.95^9 * 0.05^1
P{X=10}=C_10^10 * 0.95^10 * 0.05^0

P = P{X=8} + P{X=9} + P{X=10}
```

> 例题 2：X~B(2,p), Y~B(3,p), P{X>=1}=5/9,求P{Y>=1}

```
X 可取 0,1,2

由 P{X>=1} = P{X=1} + P{X=2} = 5/9
得 C_2^1 * p^1 * (1-p)^1 + C_2^2 * p^2 * (1-p)^0 = 5/9

2p(1-p) + p^2 = 5/9
2p - p^2 = 5/9
18p - 9p^2 = 5
9p^2 - 18p + 5 = 0
```

![ax^2 + bx + c = 0, x_{1,2}=\frac{-b\pm \sqrt{b^2-4ac}}{2a}](../img/X2120102.04183.02.03.svg)

```
// 或
P{X=0}=4/9
C_2^0 * p^0 * (1-p)^2 = 4/9
```

```
p = 1/3 或 5/3，取 1/3
得 Y~B(3,1/3)

P{Y>=1} = 1-P{Y=0} = 1 - C_3^0 * (1/3)^0 * (1-1/3)^3 = 19/27
```

### 4.泊松分布

二项分布计算繁琐时比较困难，需要近似计算方法

> 设 `λ > 0` 为常数，`n` 为任意正整数

> ![np_n=\lambda](../img/X2120102.04183.02.04.svg)

> ![C_n^kp^kq^{n-k}\approx \frac{\lambda ^k}{k!}e^{-\lambda },(\lambda=np)](../img/X2120102.04183.02.05.svg)

![p_k=P\{X=k\}=\frac{\lambda^k}{k!}e^{-\lambda},k=0,1,2,...](../img/X2120102.04183.02.06.svg)

> X 服从参数为 λ 的泊松分布，简记为 `X~P(λ)`

> k 为发生次数，λ 为 > 0 数值，e 为自然数

> 例题：X 服从 λ 的泊松分布，P{X=1}=2/3P{X=3}，求 λ

```
λ^1 / 1! * e^{-λ} = 2/3 * (λ^3 / 3!) * e^{-λ}
λ = 2/3 * (λ^3 / 6)
λ = 1/9 * λ^3
9λ = λ^3
λ^2 = 9
λ = 3
```

> x^-2 = 1 / x^2, x^-3 = 1 / x^3

## 第二节 随机变量的分布函数

### 1.分布函数的概念（离散）

设 X 为随机变量，称函数

![F(x)=P\{X\leqslant x\}, x\in(-\infty,+\infty)](../img/X2120102.04183.02.07.svg)

为 X 的分布函数，其结果为概率

> 例题 1：随机变量 X 的分布律为

| X | -1 | 0 | 1 | 2 |
| :--: | :--: | :--: | :--: | :--: |
| P | 0.1 | 0.2 | 0.3 | 0.4 |

`F(x)` 为 X 的分布函数，求 `F(0.5)`

```
F(0.5)
= P{X<=0.5}
= P{x=-1} + P{x=0}
= 0.1 + 0.2
= 0.3
```

> 例题 2：设离散型随机变量 X 的分布律为

| X | -1 | 0 | 1 | 2 |
| :--: | :--: | :--: | :--: | :--: |
| P | 0.2 | 0.1 | 0.3 | 0.4 |

求 X 的分布函数

```
当 x < -1, P{X<x} = 0
当 -1 <= x < 0, P{X<x} = 0.2
当 0 <= x < 1, P{X<x} = 0.2 + 0.1 = 0.3
当 1 <= x < 2, P{X<x} = 0.2 + 0.1 + 0.3 = 0.6
当 2 <= x, P{X<x} = 0.2 + 0.1 + 0.3 + 0.4 = 1

则 F(x) = {
  0, x < -1,
  0.2, -1 <= x < 0,
  0.3, 0 <= x < 1,
  0.6, 1 <= x < 2,
  1, x >= 2.
```

### 2.分布函数的性质

1. `0 <= F(x) <= 1`
2. `F(x)` 是不减函数，任意 `x_1 < x_2`，有 `F(x_1) <= F(x_2)`
3. `F(-∞) = 0`，`F(+∞) = 1`
4. `F(x)` 是**右连续**(右侧能取到实心点，左侧不能)，即 ![\displaystyle \lim_{\Delta x \to 0+}F(x+\Delta x)=F(x)](../img/X2120102.04183.02.08.svg)

#### 公式

1. `P{X <= b} = F(b)`
2. `P{a < X <= b} = F(b) - F(a)`
3. `P{X > b} = 1 - F(b)`

> 例题：随机变量 X 的分布函数为

```
F(x) = {
  0, x < 0,
  x/3, 0 <= x < 1,
  x/2, 1 <= x < 2,
  1, x >= 2.
```

求

1. `P{1/2 < x <= 3/2}`

```
公式 2：
= F(3/2) - F(1/2) = 3/4 - 1/6 = 7/12
```

2. `P{x > 1/2}`

```
公式 3：
= 1 - F(1/2) = 1 - 1/6 = 5/6
```

3. `P{x > 3/2}`

```
公式 3：
= 1 - F(3/2) = 1 - 3/4 = 1/4
```

## 微积分预备知识

### 求导

1. 常数 `c` 有 `(c)'=0`, `(8)'=0`

2. x^a 有 ![(x^a)'=ax^{a-1},(x^4)'=4x^3,(x^7)'=7x^6](../img/X2120102.04183.02.09.svg)

3. e 有 ![(e^x)' = e^x, (e^{2x})' = 2e^{2x}](../img/X2120102.04183.02.10.svg)

> 分数与负幂：乘法变除法

![\frac{1}{x}=x^{-1}](../img/X2120102.04183.02.11.svg)

![(\frac{1}{x})'=-1x^{-2}=-\frac{1}{x^2}](../img/X2120102.04183.02.12.svg)

> 例题：求函数 ![f(x)=e^{3x}+\frac{1}{x^2}+\frac{1}{x}](../img/X2120102.04183.02.13.svg) 导数

三个结果相加：

![(e^{3x})'=3e^{3x}, (\frac{1}{x^2})'=(x^{-2})'=-2x^{-3},(\frac{1}{x})'=(x^{-1})'=-x^{-2}=-\frac{1}{x^2}](../img/X2120102.04183.02.14.svg)

### 不定积分（反导数、原函数）

函数为 `f(x)` 的不定积分为 `∫f(x)dx`

- 积分符号：`∫`
- 被积函数：`f(x)`
- 被积表达式：`f(x)dx`
- `F'(x) = f(x)`
- `∫f(x)dx = F(x)`

![\int xdx=\frac{1}{2}x^2+C,\int x^2dx=\frac{1}{3}x^3+C](../img/X2120102.04183.02.15.svg)

> 例题：求 `fx^2dx`

```
解：由于 ((x^3)/3)'=x^2，所以 (x^3)/3 是 x^2 的一个原函数
因此 ∫(x^2)dx=(x^3)/3 + C
```

基本积分表：

1. `k` 为常数时： ![\int kdx=kx+C](../img/X2120102.04183.02.16.svg)

2. `u != -1` 时： ![\int x^udx=\frac{x^{u+1}}{u+1}+C](../img/X2120102.04183.02.17.svg)

3. `e` 时：![\int e^xdx=e^x+C](../img/X2120102.04183.02.18.svg)

**牛顿-莱布尼茨公式**：

![\int_a^bf(x)dx=F(b)-F(a)=F(x)|_a^b](../img/X2120102.04183.02.19.svg)

### 计算定积分

![\int_0^1x^2dx](../img/X2120102.04183.02.20.svg)

```
1. 写出原函数
2. 代入上、下限
```

![\frac{1}{3}x^3|_0^1=F(1)-F(0)=\frac{1}{3}(1^3-0^3)=\frac{1}{3}](../img/X2120102.04183.02.29.svg)

## 第三节 连续型随机变量及其概率密度

### 1.连续型随机变量及其概率密度

连续概率分布函数：

![F(x)=\int_{-\infty}^xf(t)dt](../img/X2120102.04183.02.21.svg)

其中 `f(t)` 为**概率密度函数**

密度函数性质：

1. `f(x) >= 0`

2. ![\int_{-\infty}^{+\infty}f(x)dx=1](../img/X2120102.04183.02.22.svg)

3. ![P\{a<X\leq b\}=F(b)-F(a)=\int_a^bf(x)dx,a\leq b](../img/X2120102.04183.02.23.svg)

4. 设 `x` 为 `f(x)` 连续点，则 `F'(x)` 存在，且 `F'(x)=f(x)`

> 例题
>
> ![X2120102.04183.02.31.png](../img/X2120102.04183.02.31.png)
>
> B、D 概率不等于 1，C f(x) 小于 0

**概率(F) = 对密度函数(f)进行积分 = 求原函数、求投影面积**

> 例题：随机变量 X 的概率密度为

```
f(x) = {
  λx, 0 <= x <= 2,
  0, 其他
```

求 λ

![X2120102.04183.02.24.png](../img/X2120102.04183.02.24.png)

```
投影三角面积：底 2，高 2λ

1 = 2 * 2λ / 2
λ = 1/2
```

> 例题：某电子元器件寿命 X（小时）具有如下概率密度

```
f(x)={
  1000/x^2, x >= 1000,
  0, 其他.
```

1. 任取 1 个，寿命大于 1500 小时概率

![P=\int_{1500}^{+\infty}\frac{1000}{x^2}dx=1000\times(-\frac{1}{x})|_{1500}^{+\infty}=F(+\infty )-F(1500)=0-(-\frac{1000}{1500})=\frac{2}{3}](../img/X2120102.04183.02.25.svg)

2. 任取 4 个，4 个中恰有 2 个寿命大于 1500 小时的概率

其中一次的概率为 `2/3`，则有

![X\sim B(4,\frac{2}{3}),C_4^2(\frac{2}{3})^2(\frac{1}{3})^2=\frac{4\times 3}{2}\times\frac{4}{9}\times\frac{1}{9}=\frac{8}{27}](../img/X2120102.04183.02.26.svg)

3. 任取 4 个，4 个中至少 1 个寿命大于 1500 小时的概率

反面：一件也没有

![1-C_4^0(\frac{2}{3})^0(\frac{1}{3})^4=1-1\times1\times\frac{1}{108}=\frac{80}{81}](../img/X2120102.04183.02.27.svg)

---

![X2120102.04183.02.30.png](../img/X2120102.04183.02.30.png)
![X2120102.04183.02.28.png](../img/X2120102.04183.02.28.png)

---

### 2.均匀分布与指数分布

#### 均匀分布 X~U(a, b)

`X~U(a,b)`：`X` 服从区间 `[a,b]` 上的均匀分布

`1/(b-a)`： 区间长度的倒数

#### 指数分布 X~E(λ)

`λ > 0` 为常数，`X` 服从参数为 `λ` 的指数分布

> 例题：电子原件寿命 X 年，服从参数为 3 的指数分布

1. 求寿命超过 2 年的概率

```
解：
f(x)={
  3e^{-3x}, x > 0,
  0, 其他.
```

![\int_{2}^{+\infty}f(x)dx=1-\int_{-\infty}^{2}f(x)dx=1-F(2)=1-(1-e^{-3\times2})=e^{-6}](../img/X2120102.04183.02.32.svg)

2. 已经使用 1.5 年，求还能使用 2 年的概率

![P(B|A)=\frac{P(AB)}{P(A)}=\frac{P\{x>1.5,x>3.5\}}{P\{x>1.5\}}=\frac{1-F(3.5)}{1-F(1.5)}=\frac{1-(1-e^{-10.5})}{1-(1-e^{-4.5})}=\frac{e^{-10.5}}{e^{-4.5}}=e^{-6},(\frac{e^a}{e^b}=e^{a-b})](../img/X2120102.04183.02.33.svg)

### 3.正态分布 X~N(μ,σ^2)

`μ, σ^2` 为常数，`-∞ < μ < +∞, σ > 0`，`X` 服从参数 `μ, σ^2` 的正态分布

- `μ` 为平均数、位置
- `σ` 为方差

正态分布曲线性质：

1. 曲线（贴底倒 U 型）关于直线 `x = μ` 对称；`h > 0` 有：`P{μ - h < X <= μ} = P{μ < X <= μ + h}`

2. 当 `x = μ` 时取得最大值： ![f(\mu)=\frac{1}{\sqrt{2\pi}\sigma}](../img/X2120102.04183.02.34.svg)

标准正态分布：

- `μ = 0, σ = 1` 时呈标准正态分布
- `φ(x)` 在 `x = 0` 处取得最大值 `1/√(2π)`
- `Φ(-x) + Φ(x) = 1`
- `Φ(0) = 1/2`

一般正态分布函数 `F(x)` 与标准正态分布函数 `Φ(x)` 的关系：

![F(x)=\phi(\frac{x-\mu}{\sigma})](../img/X2120102.04183.02.35.svg)

关系推导：

![P\{a<X\leq b\}=P\{a\leq X < b\}=P\{a\leq X\leq b\}=P\{a<X<b\}=\phi(\frac{b-\mu}{\sigma})-\phi(\frac{a-\mu}{\sigma})](../img/X2120102.04183.02.36.svg)

![P\{X>a\}=P\{X\geq a\}=1-\phi(\frac{a-\mu}{\sigma})](../img/X2120102.04183.02.37.svg)

> 例题 1：随机变量 X~N(0,1), X 的分布函数为 Φ(x)，求 P(|x| > 2) 的值

```
|x| > a => x > a + x < -a
|x| < a => -a < x < a
```

公式法：

```
P(|x| > 2)
= P{x > 2} + P{x < -2}
= 1 - P{x < 2} + P{x < -2}
// = 1 - Φ((2-0)/1) + Φ((-2-0)/1)
= 1 - Φ(2) + Φ(-2)
= 1 - Φ(2) + 1 - Φ(2)
= 2 - 2Φ(2)
```

面积法：

![X2120102.04183.02.38.png](../img/X2120102.04183.02.38.png)

> 例题 2：X~N(2, 4)，F(x) 为 X 的分布函数，Φ(x) 为标准正态分布，求 F(3)

```
μ = 2, σ = 2
F(3) = Φ((3-2)/2) = Φ(1)
```

## 第四节 随机变量函数的概率分布

### 1.离散型随机变量函数的概率分布

### 2.连续型随机变量函数的概率分布

