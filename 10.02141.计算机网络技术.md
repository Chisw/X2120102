# 计算机网络技术

课程代号：02141

# 第一章 概论

## 第一节 起源与发展

20世纪中期后计算机、电子、通信成为主导技术，第一台电子计算机 ENIAC

科学、工业、AI、数据管理、CAD 等越来越多领域的计算机需要连接在一起

计算机网络定义：相互共享资源的自治计算机系统集合

### 雏形：单台计算机为中心的远程联机系统

IBM SABRE-1 订票系统：2000+ 终端、无法处理数据、分时占用

### 一代：美国防部阿帕网 ARPANET

Advanced Research Projects Agency Network

采用分组交换技术，支持不同型号的计算机，70 年代结点增多

出现了网络应用：Email、DNS、FTP、Telnet，从应用层面促进其研究与发展

计算机厂商产出了不同类型的 LAN、WAN 和分组交换网络，不同类型的网络也亟待互联起来

为解决它们之间分组结构、通信机制、传输速率不一致的问题，催生了 TCP/IP 协议组，由最重要的两个协议来命名

1. 传输控制协议 TCP （Transport Control Protocol）负责分布式进程通信功能
2. 网际协议 IP （Internet Protocol）负责分组转发路由功能

1975 年，ARPANET 结束实验阶段，移交美国防部

80 年代，TCP/IP 完全覆盖 ARPANET，成为网络互联的标准，互联网 Internet 的基本框架开始形成

1983 年，美国防部分其为 ARPANET 和 MILNET

80 年代 ARPANET 飞速发展，逐渐形成了现在的 Internet

1990 年，ARPANET 被替换为 NSFNET，完成历史使命

ARPANET 的六大里程碑意义：
1. 完成了对计算机网络的定义和分类方法研究
2. 提出了资源子网和通信子网的结构概念
3. 提出并实现了分组交换技术
4. 采用了层次结构的网络体系结构和研究方法
5. 促进了 TCP/IP 模型的研究与应用
6. 为 Internet 的形成和发展奠定了基础

### 二代：Internet

20 世纪 90 年代开始，Internet 在阿帕网的基础上将全球不同规模、类型的计算机网络连接起来，TCP/IP 是其核心框架协议

有别于科研学术用途的阿帕网，Internet 体现了巨大的商业价值，反过来又促进其不断发展

使得任意一台主机既可以是使用者，也可以是提供者，形成了人类社会以来最大的知识宝库

发展之快，始料未及，1989 年 8w 台，1993 年 120w 台，1997 年 1600w+，2001 年 1 亿+

更多的网络应用：电子银行、搜索引擎、视频点播、即时通信、电子商务、社交网站

计算机网络、电信网络、广播电视网络三网合一

## 第二节 分类

### 一、按传输介质
1. 有线：金属电信号、玻璃光信号，双绞线、同轴电缆、光纤
- 优点：导向性强、带宽高、干扰小、不易被监听截获
- 缺点：布线成本高、布局制约

2. 无线：无线电磁波
- 优点：不受地点限制
- 缺点：导向性差、带宽低，易受干扰

### 二、按所有权
1. 公用网：电信部门建设，供单位和个人使用，需缴纳费用
2. 专用网：特殊用途，军队、电力、铁路等

### 三、按覆盖范围
1. 局域网（LAN: Local Area Network）
- 区别的三个方面：覆盖的物理范围、传输技术、拓扑结构
- 共享信道：所有设备连接同一线路，高速率，低延迟、低误码率
- 传统局域网：总线结构、环形结构，10-100Mb/s
- 新型局域网：星形结构，10-100Gb/s
- 常见为 IEEE 802.3 协议的以太网 Ethernet
- 无线局域网（WLAN）正逐步取代有线局域网

2. 城域网（MAN: Metropolitan Area Network）
- 技术与局域网类似，但规模更大，总线形式，无交换设备，协议为 IEEE 802.6

3. 广域网（WAN：Wide Area Network）
- 可能连接至几个国家，采用交换技术，通过交换结点（通信子网）连接各地主机、局域网
- 交换技术：早期的 X.25，现在的帧中继和ATM
- 交换设备：路由器或交换机，根据不同协议实现数据交换、路由、流量控制、拥塞控制等
- 基本都是采用光纤的高速链路，有较高的通信速率

4. 互联网（IN: Inter Networking）
- 将多个局域网通过广域网连接起来
- 不同的网络产品，物理结构、协议、标准各不相同，通过网络设备——网关（Gateway）连接它们

### 四、按拓扑结构
1. 总线型：同时只能两个结点通信，节省线路，结构简单、价格便宜、单机故障
2. 环形：类似总线型，终端闭合，最大延迟固定，单机故障
3. 星形：放射状，只能通过中心转发，中心处理性能要求高，通信线路利用率低
4. 树形：是星形的一种特例，多级分层相连，每层设立中心，相比星形更能节省通信线路成本
5. 网状：终端任意相连，直接通信，亦可转接，局部故障无碍大局，可靠性强，但结构复杂，难于管控

### 五、按逻辑功能
1. 通信子网：负责网络数据传输、转发、交换和路由通信任务，由通信控制处理机、通信线路和其它网络设备构成
2. 资源子网：负责网络的数据处理业务，向用户提供各种资源和服务，由主机、终端、联网外部设备、各种软件和信息资源构成

### 六、按传输技术
1. 广播式：网络中所有计算机共享一条信道，任一台发出的数据都可以被其他计算机检测到，包括源地址、目的地址，检址相同则接收数据分组
2. 点对点式：网络中建立通信的两台计算机之间由一条物理信道相连，数据分组由源点直接或经过转发到达目的计算机
大规模计算机网络中，很少存在直接进行数据通信，都需要分组存储转发和路由选择
基于 TCP/IP 的 Internet 属于点对点式

## 第三节 硬件和软件设备

- 按物理性质：硬件、软件
- 按逻辑位置：终端、中间设备

1. 终端计算机：与传输介质之间往往需要数据转换和控制设备

2. 交换机（Switch）：负责网络内部数据调度和转发以实现数据通信
- 通过若干物理接口（RJ-45、光纤）连接终端，在内部建立地址表，记录其接口与终端的对应关系，以发送对应的数据
- 根据处理协议层次不同，可分为二层、三层交换机

3. 路由器（Router）：连接IP网络中不同类型的网络，为不同格式的数据分组选择通信路径并转发的中间设备
- 为数据分组选择路劲的行为称为路由（Rounting），实现的方法称为路由算法（Routing Algorithm）
- 与交换机的最大区别：
  - 路由器是在不同网络之间实现数据路由和中转
  - 交换机实现某种网络内部的存储与转发
  - 路由表可变可不变，有静态、动态两种路由算法
  - 除了路由，还可以进行流量控制、负载均衡、拥塞控制和安全管理
  - 根据管辖范围和处理能力的不同可分为：核心、汇聚、接入路由器三种

4. 网络协议：有序通信必须遵守约定好的规则，规定数据分组格式、传输策略、交换和路由方法等
- 基本要素：
  - 语法：规定数据与控制信息的分组结构或格式
  - 语义：规定进行通信需要发出的控制信息、完成操作动作和相应
  - 同步：网络事件实现顺序的详细说明
- 形式：
  - 自然语言文字描述
  - 计算机可执行程序代码
- 制定方：ISO、IEEE、大型企业等

5. 网络操作系统：若干程序模块的集合，用于管控计算机硬件资源，协调计算机与用户之间的关系
- 区别于单机操作系统：除了文件、进程、输入输出管理之外，还应当能管理网络通信和提供网络服务
- 可分为：
  - 任务型：针对某种特殊网络专门设计的
  - 通用型：提供一般性的网络服务
- 随着计算机的发展和普及，单机、网络操作系统之间已经没有明显的界限

6. 传输介质：各个结点间的物理线路，是数据传输的通道
- 有线介质：引导型介质，包括双绞线、同轴电缆、光纤等
- 无线介质：非引导型介质，包括大气、水下和外层空间

## 第四节 性能指标

### 一、定量
1. 速率：描述数字信息传递快慢
- 发送速率：终端或结点每秒向网络中发送多少比特数据，反映的是网络设备的性能，单位为 bit/s 等，一个二进制0 或 1 为 1bit
- 传输速率：指数据在传输线路上每秒能传输多少千米，反映的是信号及信道的性能，单位为 km/s 等

2. 带宽：描述通信有效性的指标，有多种含义
- 在模拟系统中，单位为 Hz，包括信道带宽和信号传输带宽
  - 信道带宽是信道的固有特性，只与信道的介质有关，数值上等于信道中所能通过模拟信号的最高、最低频率之间的差值
  - 信号传输带宽是某种通信信号频率的最高、最低分量之间的差值
  - 传统电话双绞线带宽可以达到 2MHz+
- 在数字通信系统中，单位为 bit/s，带宽通常表示通信线路所能传送数据的能力

3. 端到端延迟：表示数据分组从一端到另一端所花费的时间，反映了网络的性能
  - 发送延迟
  - 传播延迟
  - 处理延迟
  - 排队延迟
4. 吞吐量（Throughput）：表示单位时间内通过某个网络或信道、接口的数据量，更多用于现实世界中的网络的一种测量，受到带宽和额定速率的限制

### 二、非定量
1. 服务质量 QoS（Quality of Service）：指网络利用各种基础技术，提供更好服务能力，预防拥塞和从拥塞中恢复的一种安全机制
- 特定无时间限制的应用并不需要 QoS
- 多媒体等应用，当发生拥塞或过载时，通过分配和调度，能确保不受延迟或丢弃的影响，保证网络的高效运行

2. 可靠性：长时间运行不出或少出故障，发生故障时损失尽可能的小
- 提高可靠性最直接的方法就是增加网络冗余度，发生故障时可启用备用服务

3. 可扩展性：应对发展和变化，是否能够方便快捷的在现有基础之上进行规模扩充、技术更新、设备升级
4. 安全性：因自身的开放性和共享性而容易遭到破坏，是否具有抵抗风险和威胁的能力，包括安全防控、防火墙设备、病毒查杀软件、操作规范
5. 标准化：应对不同的软硬件、网络，是否采用了通用的标准
6. 成本：提供优质服务的同时，还应尽可能的降低成本

## 第五节 功能和应用

1. 数据通信：符号，文字、音频、视频
2. 资源共享：硬件、软件、信息
3. 提升可靠性：应对单机故障
4. 分布式处理：减轻高昂主处理器费用，提高网络可靠性
5. 集中管控分散对象：统一管理提高效率

1991 年，英国人博纳斯·李发明了基于 HTTP 的万维网（World Wide Web），用户可以浏览全世界范围内的 Web 网页

## 第六节 标准化组织

1. 国际标准化组织：ISO，总部瑞士日内瓦，计算机领域最著名的是 OSI 7 层模型
2. 国际电信联盟：ITU，总部瑞士日内瓦，X 系列标准
3. 美国电子工业协会：EIA，如数字串行通信接口标准 RS-232
4. 电气和电子工程师协会：IEEE，局域网 IEEE 802 系列标准

# 第二章 数据通信基础

## 第一节 基本概念

**计算机网络**是**计算机技术**和**通信技术**相结合的产物，通信负责了物理实现，很大程度决定了网络的规模和效率

1. 消息（Message）与信息（Information）
- 消息定义为人类可感知的五官感受，声音、文字、图像、气味等
- 信息是一个抽象概念，是消息中所包含的有意义的内容

> 信息是对事物状态或存在方式的不确定性表述。信息是可以度量的。其大小与消息的不确定性，即概率成反比，某件事情发生的概率越大，其产生的信息量越小；反之则越大。——香农《通信的数学原理》对信息的数学定义

2. 通信（Communication）
- 香农定义：通信的本质就是在一点**精确**或**近似地**再生另一点的信息

3. 信号（Signal）
- 信息传递的载体，通常是电磁或光的形式
- 利用电平、电流和频率等物理变化量来表示信息
- 在数学上描述为：以时间为自变量、以表示信息的某个参量

例如：正弦波信号 `y(t) = Asin(ωt + θ)`

信号有连续、离散之分，可以通过各种变换来提高传输效率

4. 数据（Data）
- 是对客观事物的性质状态及相互关系等进行记载的物理符号及组合
- 大量的信息中往往蕴藏着价值信息和规律，通过挖掘为决策提供依据

5. 数据通信
- 是相对电话、广播通信而言的
- 信息以编码的方式被处理和存储
- 实现数据的远距离传输就是数据通信

6. 数据通信系统的模型
- 通信的作用是从信源传送到一或多个目的地，将此过程中的一切技术设备、传输媒介合称为通信系统
- 核心都应包括：
  - 信源
  - 发送设备
  - 传输媒介（信道）：会接触到噪声源
  - 接收设备
  - 信宿

7. 模拟通信与数字通信
- 模拟信号
  - 是指信号的的因变量完全随连续消息的变化而变化的信号
  - 自变量可连续，可离散
  - 因变量一定是连续的
- 数字信号
  - 是指表示消息的因变量是离散的，自变量时间的取值也是离散的信号
  - 因变量的状态是有限的

- 二者在一定条件下可以互转
  - 模拟信号 -> 采样、量化、编码 -> 数字信号
  - 数字信号 -> 解码、平滑 -> 模拟信号

- 数据通信系统与数字通信系统的区别：
  - 数字通信系统：信道中传输的信号是离散的数字信号
  - 数据通信系统：信源、信宿两端处理的是二进制数据，既可以是数字信号，也可以是模拟信号

- 数字通信优势更多，多被采用

## 第二节 传输方式

### 一、按传输方向

1. 单向通信
- 又称**单工**通信，同一时间只能有一个方向的通信，如无线电广播

2. 双向交替通信
- 又称**半双工**通信，双方都可以发送但不能同时，如无线电对讲系统

3. 双向同时通信
- 又称**全双工**通信，同时双向通信，如电话、计算机

### 二、按二进制数据传输时空顺序

计算机能处理的最小单位是字节（Byte）,由 8bit 组成

计算机内部部件、计算机与外部设备、计算机之间传输

1. 并行通信
- 为 byte 的每一个 bit 都设置传输通道，全部 bit 同时传送
- 传输快，消耗材料多，造价高，不适于长距离传输

2. 串行通信
- 只设置一条通道，全部 bit 依次传输
- 节省线路开销，传输慢，比如 RS-232、USB

### 三、按发送、接收步调一致性

通信系统的可靠性依赖于很好的实现同步

即收发两端动作统一、保持收发步调一致的过程，收方按照发送方发送信息的重复频率和起止时间来接收数据

根据发送、接收两端的时钟是独立还是同步分为两种同步方式

1. 异步式同步
- 以 byte 为单位独立发送，一次一符，一符 5~8 bit 来表示
- 每符前加一个起始位，后加一或二个停止位，无字符发送时，一直发送停止位
- 接收方以两标识位来判断始末，并以字节为单位接收
- 不需要在两端传输时钟信号，实现简单，效率低，适用于低速传输

2. 同步式同步
- 以数据块为单位进行发送，块内包含多个 byte
- 块前加起始位，块后加停止位
- 接收方按块接收
- 需建立同步时钟，实现发咋，效率高，开销小，适用高速传输

### 四、按是否需要经过调制

基带信号，即基本频带信号，计算机发出的原始数据信号，用固定的高低电平表示二进制数字 0、1

频率较低，信号频谱从 0 或附近开始，功率主要集中在有限的频带，低通特性

传送距离短时，衰减小，信号内容不变，适合在近距离、有线信道中传输

1. 基带传输
- 直接在信道中传送基带信号
- 以太网、令牌环网等计算机局域网

实际中许多信道不具有低通特性，而具有带通特性，所以不适合传输基带信号

2. 频带传输
- 通过调制，成为载波信号，将基带信号携带的信息传送出去
- 调制方法：
  - 调幅（AM）：载波**振幅**随数字基带信号变化，0 无载波，1 有载波
  - 调频（FM）：载波**频率**随数字基带信号变化，0 f1, 1 f2
  - 调相（PM）：载波**初始相位**随数字基带信号变化，0 0°，1 180°

更为复杂的**正交幅调制（QAM）**、**正交频分复用（OFDM）**等调制技术可以获得更高信息传输速率

- 计算机连接电话线使用的**调制解调器（MODEM）**
- 数字信号 -> 模拟信号 调制
- 模拟信号 -> 数字信号 解调

## 第三节 性能


